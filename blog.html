<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Blog | PEGASUS FININVEST</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,700|Raleway:300,400,400i,500,500i,700,800,900" rel="stylesheet">
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <link href="assets/css/blogposts.css" rel="stylesheet">
</head>

<body>

  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex justify-content-between">

      <div class="logo">
        <h1><a href="index.html"><img src="assets/img/background/505.gif" alt=""></a></h1>
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto " href="index.html">Home</a></li>
          <li><a class="nav-link scrollto" href="index.html#about">About</a></li>
          <li><a class="nav-link scrollto" href="index.html#testimonials">Portfolio</a></li>
            <li class="dropdown"><a href="team.html"><span>Team</span> </a>
              <ul>
                <li><a href="team.html">Pegasus Team</a></li>
                <li><a class="nav-link scrollto" href="team.html#advisors">Advisory Board</a></li>
                <li><a class="nav-link scrollto" href="team.html#IGRC">IGRC COMMITTEE</a></li>
              </ul>
            </li>
          <li><a class="active"href="blog.html">Blog</a></li>
         
          <li><a class="nav-link scrollto" href="index.html#contact">Contact</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav>

    </div>
  </header>

  <br><br><br>
  <br><br><br>
  <main id="main">


    <section id="blog">

<div class="section-headline text-center tst">
  <h2>BLOG</h2>
</div>
 <body>
  <!-- <div class="container py-2" id="stuff">

  </div>
</body>-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
<script>
  const display = async()=>{
    const res = await fetch('https://pgs-cms.herokuapp.com/blog-posts');
    const response = await res.json();
    console.log(response);

    for(let i=0;i<response.length;i++){
      console.log(response[i].Cover.url);

      const d = document.createElement('div');
    d.classList.add('col-md-12');
    d.classList.add('col-sm-12');
    d.classList.add('col-xs-12');
    

    const sBlog = document.createElement('div');
    sBlog.classList.add('single-blog');
    d.appendChild(sBlog)

    const sBlogI = document.createElement('div');
    sBlogI.classList.add('single-blog-img');
    sBlog.appendChild(sBlogI);

    const sBlogLink = document.createElement('a');
    // sBlogLink.href = "blog-details.html";
    sBlogI.appendChild(sBlogLink);

    const sBlogImg = document.createElement('img');
    sBlogImg.src = response[i].Cover.url;
    sBlogLink.appendChild(sBlogImg);

    const bLt = document.createElement('div');
    const Title = document.createElement('h4');
    const link = document.createElement('a');
    const para = document.createElement('p');

    bLt.classList.add('blog-text');

    link.innerHTML = response[i].Title;
    para.innerHTML = response[i].Subtitle;

    bLt.appendChild(Title);
    Title.appendChild(link);
    bLt.appendChild(para);
    sBlog.appendChild(bLt);

    const span = document.createElement('span');
    const readMore = document.createElement('a');

    span.appendChild(readMore);
    readMore.classList.add('ready-btn');
    readMore.innerHTML = "Read more";
    
    readMore.addEventListener('click',()=>{
      console.log(response[i]);
      const cont = document.getElementById('container');
      var child = cont.lastElementChild; 
        while (child) {
            cont.removeChild(child);
            child = cont.lastElementChild;
        }

        const d = document.createElement('div');
    d.classList.add('col-md-12');
    d.classList.add('col-sm-12');
    d.classList.add('col-xs-12');
    

    const sBlog = document.createElement('div');
    sBlog.classList.add('single-blog');
    d.appendChild(sBlog)

    const sBlogI = document.createElement('div');
    sBlogI.classList.add('single-blog-img');
    sBlog.appendChild(sBlogI);

    const sBlogLink = document.createElement('a');
    // sBlogLink.href = "blog-details.html";
    sBlogI.appendChild(sBlogLink);

    const sBlogImg = document.createElement('img');
    sBlogImg.src = response[i].Cover.url;
    sBlogLink.appendChild(sBlogImg);

    const bLt = document.createElement('div');
    const Title = document.createElement('h4');
    const link = document.createElement('a');
    const para = document.createElement('p');

    bLt.classList.add('blog-text');

    link.innerHTML = response[i].Title;
    para.innerHTML = response[i].Subtitle;

    const goBack = document.createElement('a');
    goBack.innerHTML = "Return to Blog";
    goBack.href = "blog.html"
    goBack.classList.add('btn');  
    goBack.classList.add('btn-primary');  
    bLt.appendChild(Title);
    Title.appendChild(link);
    
    bLt.appendChild(para);

    sBlog.appendChild(bLt);

    

    const mainP = document.createElement('p');
    mainP.innerHTML = response[i].Content;
    d.appendChild(mainP);
    document.getElementById('container').appendChild(d);
      
    document.getElementById('container').appendChild(goBack);
        
    })

    sBlog.appendChild(span);

    document.getElementById('container').appendChild(d);
    }
    
    //vid
    const blogVidRes = await fetch('https://pgs-cms.herokuapp.com/videos');
    const blogVid = await blogVidRes.json();
    for(let i=0;i<blogVid.length;i++){
      const url = await blogVid[i].Video.url;
      console.log(url);
    const vidBlock = document.createElement("VIDEO");
    const src = document.createElement('source');

    src.src = url;
    src.type="video/mp4"
    console.log(src);
    
    vidBlock.classList.add('blog-video');
    vidBlock.setAttribute("controls", "controls");

    vidBlock.appendChild(src);

    const d = document.createElement('div');
    d.classList.add('col-md-12');
    d.classList.add('col-sm-12');
    d.classList.add('col-xs-12');

    const sBlog = document.createElement('div');
    sBlog.classList.add('single-blog');
    d.appendChild(sBlog)

    const sBlogI = document.createElement('div');
    // sBlogI.classList.add('single-blog-img');
    sBlog.appendChild(sBlogI);

    const sBlogLink = document.createElement('a');
    // sBlogLink.href = "blog-details.html";
    sBlogI.appendChild(sBlogLink);
    
    const title = document.createElement('h4');
    title.innerHTML = blogVid[i].Title;
    
    sBlogLink.appendChild(vidBlock);
    
    const bLt = document.createElement('div');
    const Title = document.createElement('h4');
    const subtitle = document.createElement('p');
    const link = document.createElement('a');

    bLt.classList.add('blog-text');

    link.innerHTML = blogVid[i].Title;
    subtitle.innerHTML = blogVid[i].Subtitle;
    
    console.log(subtitle);
    
    bLt.appendChild(Title);
    Title.appendChild(link);
    bLt.appendChild(subtitle);
    sBlog.appendChild(bLt);

    document.getElementById('container').appendChild(d);
    }
    
    //Break


  }

  display();
</script>


  <!-- <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <script src="assets/js/main.js"></script>  -->

  <div class="blog-page area-padding">
    <div class="container" id="container">
      <div class="row">
        <div class="col-lg-4 col-md-4">
          <div class="page-head-blog">
            <div class="single-blog-page">


              <!-- <form action="#">
                <div class="search-option">
                  <input type="text" placeholder="Search...">
                  <button class="button" type="submit">
                    <i class="bi bi-search"></i>
                  </button>
                </div>
              </form> -->


            </div>
          
           
          
          </div>
        </div>
        <!-- End left sidebar -->
        <!-- Start single blog -->
        <!-- <div class="col-md-8 col-sm-8 col-xs-12"> -->
            <!-- End single blog -->
            <!-- <div class="blog-pagination">
              <ul class="pagination">
                <li class="page-item"><a href="#" class="page-link">&lt;</a></li>
                <li class="page-item active"><a href="#" class="page-link">1</a></li>
                <li class="page-item"><a href="#" class="page-link">2</a></li>
                <li class="page-item"><a href="#" class="page-link">3</a></li>
                <li class="page-item"><a href="#" class="page-link">&gt;</a></li>
              </ul>
            </div> -->
          </div>
        </div>
      <!-- </div> -->
    </div>
  </div><!-- End Blog Page -->

</main><!-- End #main -->


 
<!-- <div id="preloader"></div>
<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a> -->



<script src="assets/js/main.js"></script>













</body>

</html>